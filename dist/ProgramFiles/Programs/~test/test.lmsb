DATA16 FD_NATIVECODECOMMAND
DATA16 FD_NATIVECODERESPONSE
DATA32 STOPLCDUPDATE
DATA32 NUMMAILBOXES
ARRAY8 MOTORISINVERTED 4     
ARRAY8 FIRSTOF2  16
ARRAY16 LOCKS 2           
DATA32 s1out1
DATA32 s1out2
DATA32 s1out3
DATA32 s2out1
DATA32 s2out2
DATA32 s2out3
DATA32 s3out1
DATA32 s3out2
DATA32 s3out3
DATA32 s4out1
DATA32 s4out2
DATA32 s4out3
DATA32 getTachoA
DATA32 tmpTachoA
DATA8 getSpeedA
DATA8 setSpeedA
DATA8 setPowerA
DATA32 getTachoB
DATA32 tmpTachoB
DATA8 getSpeedB
DATA8 setSpeedB
DATA8 setPowerB
DATA32 getTachoC
DATA32 tmpTachoC
DATA8 getSpeedC
DATA8 setSpeedC
DATA8 setPowerC
DATA32 getTachoD
DATA32 tmpTachoD
DATA8 getSpeedD
DATA8 setSpeedD
DATA8 setPowerD
DATA16 newArray1d
DATA32 newSize1d
DATA32 newIndex1d
DATA32 timeMC1
DATA32 timeMC2
DATA32 timeMC3
DATA32 timeMC4
DATA32 timeMC5
DATA32 timeMC6
DATA32 timeMC7
DATA32 timeMC8
DATA32 timeMC9
DATA32 timeMC1tmp
DATA32 timeMC2tmp
DATA32 timeMC3tmp
DATA32 timeMC4tmp
DATA32 timeMC5tmp
DATA32 timeMC6tmp
DATA32 timeMC7tmp
DATA32 timeMC8tmp
DATA32 timeMC9tmp
DATAF VPR_ADVMTCTRLS_ACC1_MINPWR
DATAF VPR_ADVMTCTRLS_ACC1_MAXPWR
DATAF VPR_ADVMTCTRLS_ACC1_ACCELDIST
DATAF VPR_ADVMTCTRLS_ACC1_DECELDIST
DATAF VPR_ADVMTCTRLS_ACC1_TOTALDIST
DATAF VPR_ADVMTCTRLS_ACC1_ISNEG
DATAF VPR_ADVMTCTRLS_PWR
DATAF VPR_ADVMTCTRLS_SYNC_KP
DATAF VPR_ADVMTCTRLS_SYNC_VB
DATAF VPR_ADVMTCTRLS_SYNC_VC
DATAF VPR_ADVMTCTRLS_SYNC_VBSIGN
DATAF VPR_ADVMTCTRLS_SYNC_VCSIGN
DATAF VPR_ADVMTCTRLS_KP
DATAF VPR_ADVMTCTRLS_KD
DATAF VPR_ADVMTCTRLS_ERR_OLD
DATAF VPR_ADVMTCTRLS_ACC2_MINPWR
DATAF VPR_ADVMTCTRLS_ACC2_MAXPWR
DATAF VPR_ADVMTCTRLS_ACC2_ACCELDIST
DATAF VPR_ADVMTCTRLS_ACC2_DECELDIST
DATAF VPR_ADVMTCTRLS_ACC2_TOTALDIST
DATAF VPR_ADVMTCTRLS_ACC2_ISNEG
DATAF VLV_POWER_8
DATAF VLV_KP_12
DATAF VLV_LEFTPOWER_12
DATAF VLV_RIGHTPOWER_12
DATAF VLV_TOTALDIST_12
DATAS VLV_ISBREAK_12 252
DATAF VLV_KP_15
DATAF VLV_PORT_15
DATAF VLV_POWER_15
DATAF VLV_BLACKVALUE_15
DATAS VLV_ISBREAK_15 252
DATAS VLV_PORT_5 252
DATAF VLV_POWER_5
DATAF VLV_DEGREE_5
DATAS VLV_PORT_6 252
DATAF VLV_POWER_6
DATAF VLV_KP_17
DATAF VLV_KD_17
DATAF VLV_POWER_17
DATAF VLV_TOTALDIST_17
DATAS VLV_ISBREAK_17 252
DATAF VLV_KP_20
DATAF VLV_MINPOWER_20
DATAF VLV_MAXPOWER_20
DATAF VLV_TOTALDIST_20
DATAS VLV_STRAIGHT_20 252
DATAS VLV_ISBREAK_20 252
DATAF VLV_KP_24
DATAF VLV_KD_24
DATAF VLV_MINPOWER_24
DATAF VLV_MAXPOWER_24
DATAF VLV_TOTALDIST_24
DATAS VLV_PORT_9 252
DATAF VLV_MINPOWER_9
DATAF VLV_MAXPOWER_9
DATAF VLV_ACCDIST_9
DATAF VLV_DECDIST_9
DATAF VLV_TOTALDIST_9
DATAS VLV_COLOR1_4 252
DATAS VLV_COLOR2_4 252
DATAS VLV_COLOR_1 252
DATAS VLV_COLOR_2 252
DATAS VLV_COLOR1_3 252
DATAS VLV_COLOR2_3 252
DATAF VLV_MINPWR_IN_10
DATAF VLV_MAXPWR_IN_10
DATAF VLV_ACCELDIST_IN_10
DATAF VLV_DECELDIST_IN_10
DATAF VLV_TOTALDIST_IN_10
DATAF VLV_E1_11
DATAF VLV_PWROUT_11
DATAF VLV_DONE_11
DATAF VLV_KP_IN_13
DATAF VLV_VB_IN_13
DATAF VLV_VC_IN_13
DATAF VLV_EB_14
DATAF VLV_EC_14
DATAF VLV_PB_14
DATAF VLV_PC_14
DATAF VLV_PORT_16
DATAF VLV_VALUE_16
DATAF VLV_KP_IN_18
DATAF VLV_KD_IN_18
DATAF VLV_PWR_IN_18
DATAF VLV_E1_19
DATAF VLV_E2_19
DATAF VLV_PB_19
DATAF VLV_PC_19
DATAF VLV_MINPWR_IN_21
DATAF VLV_MAXPWR_IN_21
DATAF VLV_ACCELDIST_IN_21
DATAF VLV_DECELDIST_IN_21
DATAF VLV_TOTALDIST_IN_21
DATAF VLV_E1_22
DATAF VLV_E2_22
DATAF VLV_PWROUT_22
DATAF VLV_DONE_22
DATAF VLV_EB_23
DATAF VLV_EC_23
DATAF VLV_S_KP_23
DATAF VLV_VB_23
DATAF VLV_VC_23
DATAF VLV_PB_23
DATAF VLV_PC_23
DATAF VLV_PWRIN_25
DATAF VLV_E1_25
DATAF VLV_E2_25
DATAF VLV_PB_25
DATAF VLV_PC_25
DATAF VLV_POUT_9
DATAF VLV_ISDONE_9
DATAF VLV_P1OUT_12
DATAF VLV_P2OUT_12
DATAF VLV_P1OUT_15
DATAF VLV_P2OUT_15
DATAF VLV_LIGHTOUT_15
DATAF VLV_LIGHT1_17
DATAF VLV_LIGHT2_17
DATAF VLV_P1OUT_17
DATAF VLV_P2OUT_17
DATAF VLV_POUT_20
DATAF VLV_ISDONE_20
DATAF VLV_P1OUT_20
DATAF VLV_P2OUT_20
DATAF VLV_LIGHT1_24
DATAF VLV_LIGHT2_24
DATAF VLV_POUT_24
DATAF VLV_ISDONE_24
DATAF VLV_P1OUT_24
DATAF VLV_P2OUT_24
DATAS VGV_COLOR1 252
DATAS VGV_COLOR2 252
DATAS VGV_COLOR3 252
DATAS VGV_COLOR4 252
DATAS VGV_COLOR 252
DATAF VLV_MM_2
DATAF VLV_DONE_5
DATAF VLV_ENC_5
DATAF VLV_STALL_6
DATAF VLV_ENC1_6
DATAF VLV_ENC2_6
DATAF VLV_STALL_8
DATAF VLV_ENC1_8
DATAF VLV_ENC3_8
DATAF VLV_ENC2_8
DATAF VLV_ENC4_8
DATAF VLV_DONE_9
DATAF VLV_ENC_9
DATAF VLV_CURRENC_11
DATAF VLV_DIST_12
DATAF VLV_ENC1_12
DATAF VLV_ENC2_12
DATAF VLV_U_14
DATAF VLV_DONE_15
DATAF VLV_ENC1_15
DATAF VLV_ENC2_15
DATAF VLV_DIST_17
DATAF VLV_ERR_19
DATAF VLV_U_19
DATAF VLV_ACCDIST_20
DATAF VLV_DECDIST_20
DATAF VLV_MP_20
DATAF VLV_DONE_20
DATAF VLV_ENC1_20
DATAF VLV_ENC2_20
DATAF VLV_CURRENC_22
DATAF VLV_U_23
DATAF VLV_ACCDIST_24
DATAF VLV_DECDIST_24
DATAF VLV_DONE_24
DATAF VLV_ENC1_24
DATAF VLV_ENC2_24
DATAF VLV_ERR_25
DATAF VLV_U_25
DATA32 RUNCOUNTER_F_SETMOTORHOUSE_0
DATA32 RUNCOUNTER_F_SETVANGMOTOR_0

vmthread MAIN
{
    MOVE32_32 0 STOPLCDUPDATE
    MOVE32_32 0 NUMMAILBOXES
    OUTPUT_RESET 0 15

	WRITE8 0 0 MOTORISINVERTED
	WRITE8 0 1 MOTORISINVERTED
	WRITE8 0 2 MOTORISINVERTED
	WRITE8 0 3 MOTORISINVERTED
	WRITE8 0 0 FIRSTOF2
	WRITE8 0 1 FIRSTOF2
	WRITE8 0 2 FIRSTOF2
	WRITE8 1 3 FIRSTOF2
	WRITE8 0 4 FIRSTOF2
	WRITE8 1 5 FIRSTOF2
	WRITE8 2 6 FIRSTOF2
	WRITE8 0 7 FIRSTOF2
	WRITE8 0 8 FIRSTOF2
	WRITE8 1 9 FIRSTOF2
	WRITE8 2 10 FIRSTOF2
	WRITE8 0 11 FIRSTOF2
	WRITE8 4 12 FIRSTOF2
	WRITE8 0 13 FIRSTOF2
	WRITE8 0 14 FIRSTOF2
	WRITE8 0 15 FIRSTOF2
    INPUT_DEVICE CLR_ALL -1
    ARRAY CREATE8 0 LOCKS
    MOVE32_32 0 s1out1
	MOVE32_32 0 s1out2
	MOVE32_32 0 s1out3
    MOVE32_32 0 s2out1
	MOVE32_32 0 s2out2
	MOVE32_32 0 s2out3
    MOVE32_32 0 s3out1
	MOVE32_32 0 s3out2
	MOVE32_32 0 s3out3
    MOVE32_32 0 s4out1
	MOVE32_32 0 s4out2
	MOVE32_32 0 s4out3
    MOVE32_32 0 timeMC1
	MOVE32_32 0 timeMC2
	MOVE32_32 0 timeMC3
	MOVE32_32 0 timeMC4
	MOVE32_32 0 timeMC5
	MOVE32_32 0 timeMC6
	MOVE32_32 0 timeMC7
	MOVE32_32 0 timeMC8
	MOVE32_32 0 timeMC9
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_MINPWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_MAXPWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_ACCELDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_DECELDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_TOTALDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_ISNEG
    MOVEF_F 0.0 VPR_ADVMTCTRLS_PWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_KP
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_VB
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_VC
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_VBSIGN
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_VCSIGN
    MOVEF_F 0.0 VPR_ADVMTCTRLS_KP
    MOVEF_F 0.0 VPR_ADVMTCTRLS_KD
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ERR_OLD
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_MINPWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_MAXPWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_ACCELDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_DECELDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_TOTALDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_ISNEG
    MOVEF_F 0.0 VLV_POWER_8
    MOVEF_F 0.0 VLV_KP_12
    MOVEF_F 0.0 VLV_LEFTPOWER_12
    MOVEF_F 0.0 VLV_RIGHTPOWER_12
    MOVEF_F 0.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE '' VLV_ISBREAK_12
    MOVEF_F 0.0 VLV_KP_15
    MOVEF_F 0.0 VLV_PORT_15
    MOVEF_F 0.0 VLV_POWER_15
    MOVEF_F 0.0 VLV_BLACKVALUE_15
    STRINGS DUPLICATE '' VLV_ISBREAK_15
    STRINGS DUPLICATE '' VLV_PORT_5
    MOVEF_F 0.0 VLV_POWER_5
    MOVEF_F 0.0 VLV_DEGREE_5
    STRINGS DUPLICATE '' VLV_PORT_6
    MOVEF_F 0.0 VLV_POWER_6
    MOVEF_F 0.0 VLV_KP_17
    MOVEF_F 0.0 VLV_KD_17
    MOVEF_F 0.0 VLV_POWER_17
    MOVEF_F 0.0 VLV_TOTALDIST_17
    STRINGS DUPLICATE '' VLV_ISBREAK_17
    MOVEF_F 0.0 VLV_KP_20
    MOVEF_F 0.0 VLV_MINPOWER_20
    MOVEF_F 0.0 VLV_MAXPOWER_20
    MOVEF_F 0.0 VLV_TOTALDIST_20
    STRINGS DUPLICATE '' VLV_STRAIGHT_20
    STRINGS DUPLICATE '' VLV_ISBREAK_20
    MOVEF_F 0.0 VLV_KP_24
    MOVEF_F 0.0 VLV_KD_24
    MOVEF_F 0.0 VLV_MINPOWER_24
    MOVEF_F 0.0 VLV_MAXPOWER_24
    MOVEF_F 0.0 VLV_TOTALDIST_24
    STRINGS DUPLICATE '' VLV_PORT_9
    MOVEF_F 0.0 VLV_MINPOWER_9
    MOVEF_F 0.0 VLV_MAXPOWER_9
    MOVEF_F 0.0 VLV_ACCDIST_9
    MOVEF_F 0.0 VLV_DECDIST_9
    MOVEF_F 0.0 VLV_TOTALDIST_9
    STRINGS DUPLICATE '' VLV_COLOR1_4
    STRINGS DUPLICATE '' VLV_COLOR2_4
    STRINGS DUPLICATE '' VLV_COLOR_1
    STRINGS DUPLICATE '' VLV_COLOR_2
    STRINGS DUPLICATE '' VLV_COLOR1_3
    STRINGS DUPLICATE '' VLV_COLOR2_3
    MOVEF_F 0.0 VLV_MINPWR_IN_10
    MOVEF_F 0.0 VLV_MAXPWR_IN_10
    MOVEF_F 0.0 VLV_ACCELDIST_IN_10
    MOVEF_F 0.0 VLV_DECELDIST_IN_10
    MOVEF_F 0.0 VLV_TOTALDIST_IN_10
    MOVEF_F 0.0 VLV_E1_11
    MOVEF_F 0.0 VLV_PWROUT_11
    MOVEF_F 0.0 VLV_DONE_11
    MOVEF_F 0.0 VLV_KP_IN_13
    MOVEF_F 0.0 VLV_VB_IN_13
    MOVEF_F 0.0 VLV_VC_IN_13
    MOVEF_F 0.0 VLV_EB_14
    MOVEF_F 0.0 VLV_EC_14
    MOVEF_F 0.0 VLV_PB_14
    MOVEF_F 0.0 VLV_PC_14
    MOVEF_F 0.0 VLV_PORT_16
    MOVEF_F 0.0 VLV_VALUE_16
    MOVEF_F 0.0 VLV_KP_IN_18
    MOVEF_F 0.0 VLV_KD_IN_18
    MOVEF_F 0.0 VLV_PWR_IN_18
    MOVEF_F 0.0 VLV_E1_19
    MOVEF_F 0.0 VLV_E2_19
    MOVEF_F 0.0 VLV_PB_19
    MOVEF_F 0.0 VLV_PC_19
    MOVEF_F 0.0 VLV_MINPWR_IN_21
    MOVEF_F 0.0 VLV_MAXPWR_IN_21
    MOVEF_F 0.0 VLV_ACCELDIST_IN_21
    MOVEF_F 0.0 VLV_DECELDIST_IN_21
    MOVEF_F 0.0 VLV_TOTALDIST_IN_21
    MOVEF_F 0.0 VLV_E1_22
    MOVEF_F 0.0 VLV_E2_22
    MOVEF_F 0.0 VLV_PWROUT_22
    MOVEF_F 0.0 VLV_DONE_22
    MOVEF_F 0.0 VLV_EB_23
    MOVEF_F 0.0 VLV_EC_23
    MOVEF_F 0.0 VLV_S_KP_23
    MOVEF_F 0.0 VLV_VB_23
    MOVEF_F 0.0 VLV_VC_23
    MOVEF_F 0.0 VLV_PB_23
    MOVEF_F 0.0 VLV_PC_23
    MOVEF_F 0.0 VLV_PWRIN_25
    MOVEF_F 0.0 VLV_E1_25
    MOVEF_F 0.0 VLV_E2_25
    MOVEF_F 0.0 VLV_PB_25
    MOVEF_F 0.0 VLV_PC_25
    MOVEF_F 0.0 VLV_POUT_9
    MOVEF_F 0.0 VLV_ISDONE_9
    MOVEF_F 0.0 VLV_P1OUT_12
    MOVEF_F 0.0 VLV_P2OUT_12
    MOVEF_F 0.0 VLV_P1OUT_15
    MOVEF_F 0.0 VLV_P2OUT_15
    MOVEF_F 0.0 VLV_LIGHTOUT_15
    MOVEF_F 0.0 VLV_LIGHT1_17
    MOVEF_F 0.0 VLV_LIGHT2_17
    MOVEF_F 0.0 VLV_P1OUT_17
    MOVEF_F 0.0 VLV_P2OUT_17
    MOVEF_F 0.0 VLV_POUT_20
    MOVEF_F 0.0 VLV_ISDONE_20
    MOVEF_F 0.0 VLV_P1OUT_20
    MOVEF_F 0.0 VLV_P2OUT_20
    MOVEF_F 0.0 VLV_LIGHT1_24
    MOVEF_F 0.0 VLV_LIGHT2_24
    MOVEF_F 0.0 VLV_POUT_24
    MOVEF_F 0.0 VLV_ISDONE_24
    MOVEF_F 0.0 VLV_P1OUT_24
    MOVEF_F 0.0 VLV_P2OUT_24
    STRINGS DUPLICATE '' VGV_COLOR1
    STRINGS DUPLICATE '' VGV_COLOR2
    STRINGS DUPLICATE '' VGV_COLOR3
    STRINGS DUPLICATE '' VGV_COLOR4
    STRINGS DUPLICATE '' VGV_COLOR
    MOVEF_F 0.0 VLV_MM_2
    MOVEF_F 0.0 VLV_DONE_5
    MOVEF_F 0.0 VLV_ENC_5
    MOVEF_F 0.0 VLV_STALL_6
    MOVEF_F 0.0 VLV_ENC1_6
    MOVEF_F 0.0 VLV_ENC2_6
    MOVEF_F 0.0 VLV_STALL_8
    MOVEF_F 0.0 VLV_ENC1_8
    MOVEF_F 0.0 VLV_ENC3_8
    MOVEF_F 0.0 VLV_ENC2_8
    MOVEF_F 0.0 VLV_ENC4_8
    MOVEF_F 0.0 VLV_DONE_9
    MOVEF_F 0.0 VLV_ENC_9
    MOVEF_F 0.0 VLV_CURRENC_11
    MOVEF_F 0.0 VLV_DIST_12
    MOVEF_F 0.0 VLV_ENC1_12
    MOVEF_F 0.0 VLV_ENC2_12
    MOVEF_F 0.0 VLV_U_14
    MOVEF_F 0.0 VLV_DONE_15
    MOVEF_F 0.0 VLV_ENC1_15
    MOVEF_F 0.0 VLV_ENC2_15
    MOVEF_F 0.0 VLV_DIST_17
    MOVEF_F 0.0 VLV_ERR_19
    MOVEF_F 0.0 VLV_U_19
    MOVEF_F 0.0 VLV_ACCDIST_20
    MOVEF_F 0.0 VLV_DECDIST_20
    MOVEF_F 0.0 VLV_MP_20
    MOVEF_F 0.0 VLV_DONE_20
    MOVEF_F 0.0 VLV_ENC1_20
    MOVEF_F 0.0 VLV_ENC2_20
    MOVEF_F 0.0 VLV_CURRENC_22
    MOVEF_F 0.0 VLV_U_23
    MOVEF_F 0.0 VLV_ACCDIST_24
    MOVEF_F 0.0 VLV_DECDIST_24
    MOVEF_F 0.0 VLV_DONE_24
    MOVEF_F 0.0 VLV_ENC1_24
    MOVEF_F 0.0 VLV_ENC2_24
    MOVEF_F 0.0 VLV_ERR_25
    MOVEF_F 0.0 VLV_U_25
    MOVE32_32 0 RUNCOUNTER_F_SETMOTORHOUSE_0
    MOVE32_32 0 RUNCOUNTER_F_SETVANGMOTOR_0
    ARRAY CREATE8 1 LOCKS
    CALL PROGRAM_MAIN -1
    PROGRAM_STOP -1
}
vmthread TF_SETMOTORHOUSE_0
{
    DATA32 tmp
  launch:
    CALL PROGRAM_F_SETMOTORHOUSE_0 0
    CALL GETANDINC32 RUNCOUNTER_F_SETMOTORHOUSE_0 -1 RUNCOUNTER_F_SETMOTORHOUSE_0 tmp
    JR_GT32 tmp 1 launch
}
vmthread TF_SETVANGMOTOR_0
{
    DATA32 tmp
  launch:
    CALL PROGRAM_F_SETVANGMOTOR_0 1
    CALL GETANDINC32 RUNCOUNTER_F_SETVANGMOTOR_0 -1 RUNCOUNTER_F_SETVANGMOTOR_0 tmp
    JR_GT32 tmp 1 launch
}
subcall PROGRAM_MAIN
subcall PROGRAM_F_SETMOTORHOUSE_0
subcall PROGRAM_F_SETVANGMOTOR_0
{
    IN_32 SUBPROGRAM
    DATA32 INDEX
    ARRAY8 STACKPOINTER 4
    DATAF F.0
    DATAF F.1
    DATAF F.2
    DATAF F.3
    ARRAY32 RETURNSTACK2 128
    ARRAY32 RETURNSTACK 128
    DATAS S.0 252
    MOVE8_8 0 STACKPOINTER
    JR_NEQ32 SUBPROGRAM 0 dispatch331
    WRITE32 ENDSUB_F_SETMOTORHOUSE_0:ENDTHREAD STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SETMOTORHOUSE_0
  dispatch331:
    JR_NEQ32 SUBPROGRAM 1 dispatch332
    WRITE32 ENDSUB_F_SETVANGMOTOR_0:ENDTHREAD STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SETVANGMOTOR_0
  dispatch332:
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_MINPWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_MAXPWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_ACCELDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_DECELDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_TOTALDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_ISNEG
    MOVEF_F 0.0 VPR_ADVMTCTRLS_PWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_KP
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_VB
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_VC
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_VBSIGN
    MOVEF_F 0.0 VPR_ADVMTCTRLS_SYNC_VCSIGN
    MOVEF_F 0.0 VPR_ADVMTCTRLS_KP
    MOVEF_F 0.0 VPR_ADVMTCTRLS_KD
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ERR_OLD
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_MINPWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_MAXPWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_ACCELDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_DECELDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_TOTALDIST
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_ISNEG
    MOVEF_F 0.0 VLV_POWER_8
    MOVEF_F 0.0 VLV_KP_12
    MOVEF_F 0.0 VLV_LEFTPOWER_12
    MOVEF_F 0.0 VLV_RIGHTPOWER_12
    MOVEF_F 0.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE '' VLV_ISBREAK_12
    MOVEF_F 0.0 VLV_KP_15
    MOVEF_F 0.0 VLV_PORT_15
    MOVEF_F 0.0 VLV_POWER_15
    MOVEF_F 0.0 VLV_BLACKVALUE_15
    STRINGS DUPLICATE '' VLV_ISBREAK_15
    STRINGS DUPLICATE '' VLV_PORT_5
    MOVEF_F 0.0 VLV_POWER_5
    MOVEF_F 0.0 VLV_DEGREE_5
    STRINGS DUPLICATE '' VLV_PORT_6
    MOVEF_F 0.0 VLV_POWER_6
    MOVEF_F 0.0 VLV_KP_17
    MOVEF_F 0.0 VLV_KD_17
    MOVEF_F 0.0 VLV_POWER_17
    MOVEF_F 0.0 VLV_TOTALDIST_17
    STRINGS DUPLICATE '' VLV_ISBREAK_17
    MOVEF_F 0.0 VLV_KP_20
    MOVEF_F 0.0 VLV_MINPOWER_20
    MOVEF_F 0.0 VLV_MAXPOWER_20
    MOVEF_F 0.0 VLV_TOTALDIST_20
    STRINGS DUPLICATE '' VLV_STRAIGHT_20
    STRINGS DUPLICATE '' VLV_ISBREAK_20
    MOVEF_F 0.0 VLV_KP_24
    MOVEF_F 0.0 VLV_KD_24
    MOVEF_F 0.0 VLV_MINPOWER_24
    MOVEF_F 0.0 VLV_MAXPOWER_24
    MOVEF_F 0.0 VLV_TOTALDIST_24
    STRINGS DUPLICATE '' VLV_PORT_9
    MOVEF_F 0.0 VLV_MINPOWER_9
    MOVEF_F 0.0 VLV_MAXPOWER_9
    MOVEF_F 0.0 VLV_ACCDIST_9
    MOVEF_F 0.0 VLV_DECDIST_9
    MOVEF_F 0.0 VLV_TOTALDIST_9
    STRINGS DUPLICATE '' VLV_COLOR1_4
    STRINGS DUPLICATE '' VLV_COLOR2_4
    STRINGS DUPLICATE '' VLV_COLOR_1
    STRINGS DUPLICATE '' VLV_COLOR_2
    STRINGS DUPLICATE '' VLV_COLOR1_3
    STRINGS DUPLICATE '' VLV_COLOR2_3
    MOVEF_F 0.0 VLV_MINPWR_IN_10
    MOVEF_F 0.0 VLV_MAXPWR_IN_10
    MOVEF_F 0.0 VLV_ACCELDIST_IN_10
    MOVEF_F 0.0 VLV_DECELDIST_IN_10
    MOVEF_F 0.0 VLV_TOTALDIST_IN_10
    MOVEF_F 0.0 VLV_E1_11
    MOVEF_F 0.0 VLV_PWROUT_11
    MOVEF_F 0.0 VLV_DONE_11
    MOVEF_F 0.0 VLV_KP_IN_13
    MOVEF_F 0.0 VLV_VB_IN_13
    MOVEF_F 0.0 VLV_VC_IN_13
    MOVEF_F 0.0 VLV_EB_14
    MOVEF_F 0.0 VLV_EC_14
    MOVEF_F 0.0 VLV_PB_14
    MOVEF_F 0.0 VLV_PC_14
    MOVEF_F 0.0 VLV_PORT_16
    MOVEF_F 0.0 VLV_VALUE_16
    MOVEF_F 0.0 VLV_KP_IN_18
    MOVEF_F 0.0 VLV_KD_IN_18
    MOVEF_F 0.0 VLV_PWR_IN_18
    MOVEF_F 0.0 VLV_E1_19
    MOVEF_F 0.0 VLV_E2_19
    MOVEF_F 0.0 VLV_PB_19
    MOVEF_F 0.0 VLV_PC_19
    MOVEF_F 0.0 VLV_MINPWR_IN_21
    MOVEF_F 0.0 VLV_MAXPWR_IN_21
    MOVEF_F 0.0 VLV_ACCELDIST_IN_21
    MOVEF_F 0.0 VLV_DECELDIST_IN_21
    MOVEF_F 0.0 VLV_TOTALDIST_IN_21
    MOVEF_F 0.0 VLV_E1_22
    MOVEF_F 0.0 VLV_E2_22
    MOVEF_F 0.0 VLV_PWROUT_22
    MOVEF_F 0.0 VLV_DONE_22
    MOVEF_F 0.0 VLV_EB_23
    MOVEF_F 0.0 VLV_EC_23
    MOVEF_F 0.0 VLV_S_KP_23
    MOVEF_F 0.0 VLV_VB_23
    MOVEF_F 0.0 VLV_VC_23
    MOVEF_F 0.0 VLV_PB_23
    MOVEF_F 0.0 VLV_PC_23
    MOVEF_F 0.0 VLV_PWRIN_25
    MOVEF_F 0.0 VLV_E1_25
    MOVEF_F 0.0 VLV_E2_25
    MOVEF_F 0.0 VLV_PB_25
    MOVEF_F 0.0 VLV_PC_25
    MOVEF_F 0.0 VLV_POUT_9
    MOVEF_F 0.0 VLV_ISDONE_9
    MOVEF_F 0.0 VLV_P1OUT_12
    MOVEF_F 0.0 VLV_P2OUT_12
    MOVEF_F 0.0 VLV_P1OUT_15
    MOVEF_F 0.0 VLV_P2OUT_15
    MOVEF_F 0.0 VLV_LIGHTOUT_15
    MOVEF_F 0.0 VLV_LIGHT1_17
    MOVEF_F 0.0 VLV_LIGHT2_17
    MOVEF_F 0.0 VLV_P1OUT_17
    MOVEF_F 0.0 VLV_P2OUT_17
    MOVEF_F 0.0 VLV_POUT_20
    MOVEF_F 0.0 VLV_ISDONE_20
    MOVEF_F 0.0 VLV_P1OUT_20
    MOVEF_F 0.0 VLV_P2OUT_20
    MOVEF_F 0.0 VLV_LIGHT1_24
    MOVEF_F 0.0 VLV_LIGHT2_24
    MOVEF_F 0.0 VLV_POUT_24
    MOVEF_F 0.0 VLV_ISDONE_24
    MOVEF_F 0.0 VLV_P1OUT_24
    MOVEF_F 0.0 VLV_P2OUT_24
    STRINGS DUPLICATE '' VGV_COLOR1
    STRINGS DUPLICATE '' VGV_COLOR2
    STRINGS DUPLICATE '' VGV_COLOR3
    STRINGS DUPLICATE '' VGV_COLOR4
    STRINGS DUPLICATE '' VGV_COLOR
    STRINGS DUPLICATE '' VGV_COLOR1
    STRINGS DUPLICATE '' VGV_COLOR2
    STRINGS DUPLICATE '' VGV_COLOR3
    STRINGS DUPLICATE '' VGV_COLOR4
    STRINGS DUPLICATE '' VGV_COLOR
    WRITE32 ENDSUB_M_PONGTOOLS_SETUP_0:CALLSUB0 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SETUP_0
CALLSUB0:
    MOVEF_F 0.0 VLV_POWER_8
    WRITE32 ENDSUB_M_PONGTOOLS_MOVEUNTILSTALL_1:CALLSUB1 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOVEUNTILSTALL_1
CALLSUB1:
    MOVEF_F 0.0 VLV_POWER_8
    WRITE32 ENDSUB_M_PONGTOOLS_MOVEUNTILSTALL_1:CALLSUB2 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOVEUNTILSTALL_1
CALLSUB2:
    DATA32 tmp3
    CALL GETANDINC32 RUNCOUNTER_F_SETMOTORHOUSE_0 1  RUNCOUNTER_F_SETMOTORHOUSE_0 tmp3
    JR_NEQ32 0 tmp3 alreadylaunched3
    OBJECT_START TF_SETMOTORHOUSE_0
  alreadylaunched3:
    MOVEF_F -100.0 VLV_POWER_8
    WRITE32 ENDSUB_M_PONGTOOLS_MOVEUNTILSTALL_1:CALLSUB4 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOVEUNTILSTALL_1
CALLSUB4:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F 45.0 VLV_LEFTPOWER_12
    MOVEF_F 45.0 VLV_RIGHTPOWER_12
    MOVEF_F 113.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB5 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB5:
    DATA32 milliseconds6
	MOVEF_32 100.0 milliseconds6
	DATA32 timer6
	TIMER_WAIT milliseconds6 timer6
	TIMER_READY timer6
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F -50.0 VLV_LEFTPOWER_12
    MOVEF_F 50.0 VLV_RIGHTPOWER_12
    MOVEF_F 255.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB7 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB7:
    DATA32 milliseconds8
	MOVEF_32 100.0 milliseconds8
	DATA32 timer8
	TIMER_WAIT milliseconds8 timer8
	TIMER_READY timer8
    MOVEF_F 0.11 VLV_KP_15
    MOVEF_F 2.0 VLV_PORT_15
    MOVEF_F 60.0 VLV_POWER_15
    MOVEF_F 7.0 VLV_BLACKVALUE_15
    STRINGS DUPLICATE 'True' VLV_ISBREAK_15
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVESEE_5:CALLSUB9 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVESEE_5
CALLSUB9:
    DATA32 milliseconds10
	MOVEF_32 100.0 milliseconds10
	DATA32 timer10
	TIMER_WAIT milliseconds10 timer10
	TIMER_READY timer10
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F 100.0 VLV_POWER_5
    MOVEF_F 80.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB11 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB11:
    STRINGS DUPLICATE 'A' VLV_PORT_6
    MOVEF_F 100.0 VLV_POWER_6
    WRITE32 ENDSUB_M_PONGTOOLS_RUNUNTILSTALL_2:CALLSUB12 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_RUNUNTILSTALL_2
CALLSUB12:
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F -50.0 VLV_POWER_5
    MOVEF_F 40.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB13 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB13:
    MOVEF_F 0.4 VLV_KP_17
    MOVEF_F 5.5 VLV_KD_17
    MOVEF_F 60.0 VLV_POWER_17
    MOVEF_F 280.0 VLV_TOTALDIST_17
    STRINGS DUPLICATE 'True' VLV_ISBREAK_17
    WRITE32 ENDSUB_M_PONGTOOLS_LINETRACK_5:CALLSUB14 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_LINETRACK_5
CALLSUB14:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F 40.0 VLV_LEFTPOWER_12
    MOVEF_F 40.0 VLV_RIGHTPOWER_12
    MOVEF_F 145.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB15 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB15:
    STRINGS DUPLICATE 'D' VLV_PORT_5
    MOVEF_F 50.0 VLV_POWER_5
    MOVEF_F 145.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB16 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB16:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F 40.0 VLV_LEFTPOWER_12
    MOVEF_F 40.0 VLV_RIGHTPOWER_12
    MOVEF_F 165.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB17 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB17:
    STRINGS DUPLICATE 'D' VLV_PORT_5
    MOVEF_F -50.0 VLV_POWER_5
    MOVEF_F 100.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB18 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB18:
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F -50.0 VLV_POWER_5
    MOVEF_F 30.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB19 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB19:
    MOVEF_F 55.0 VLV_POWER_8
    WRITE32 ENDSUB_M_PONGTOOLS_MOVEUNTILSTALL_1:CALLSUB20 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOVEUNTILSTALL_1
CALLSUB20:
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F -70.0 VLV_POWER_5
    MOVEF_F 130.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB21 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB21:
    MOVEF_F 0.11 VLV_KP_20
    MOVEF_F -30.0 VLV_MINPOWER_20
    MOVEF_F -70.0 VLV_MAXPOWER_20
    MOVEF_F 630.0 VLV_TOTALDIST_20
    STRINGS DUPLICATE 'True' VLV_STRAIGHT_20
    STRINGS DUPLICATE 'True' VLV_ISBREAK_20
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHDRIVE_6:CALLSUB22 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHDRIVE_6
CALLSUB22:
    MOVEF_F 0.1 VLV_KP_12
    MOVEF_F 55.0 VLV_LEFTPOWER_12
    MOVEF_F -55.0 VLV_RIGHTPOWER_12
    MOVEF_F 252.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB23 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB23:
    MOVEF_F 0.4 VLV_KP_24
    MOVEF_F 5.5 VLV_KD_24
    MOVEF_F 45.0 VLV_MINPOWER_24
    MOVEF_F 80.0 VLV_MAXPOWER_24
    MOVEF_F 425.0 VLV_TOTALDIST_24
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHLINETRACK_5:CALLSUB24 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHLINETRACK_5
CALLSUB24:
    DATA32 milliseconds25
	MOVEF_32 100.0 milliseconds25
	DATA32 timer25
	TIMER_WAIT milliseconds25 timer25
	TIMER_READY timer25
    STRINGS DUPLICATE 'B' VLV_PORT_9
    MOVEF_F -25.0 VLV_MINPOWER_9
    MOVEF_F -60.0 VLV_MAXPOWER_9
    MOVEF_F 140.0 VLV_ACCDIST_9
    MOVEF_F 140.0 VLV_DECDIST_9
    MOVEF_F 310.0 VLV_TOTALDIST_9
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHPORT_6:CALLSUB26 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHPORT_6
CALLSUB26:
    DATA32 milliseconds27
	MOVEF_32 200.0 milliseconds27
	DATA32 timer27
	TIMER_WAIT milliseconds27 timer27
	TIMER_READY timer27
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F 55.0 VLV_LEFTPOWER_12
    MOVEF_F 55.0 VLV_RIGHTPOWER_12
    MOVEF_F 208.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB28 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB28:
    STRINGS DUPLICATE 'A' VLV_PORT_6
    MOVEF_F -100.0 VLV_POWER_6
    WRITE32 ENDSUB_M_PONGTOOLS_RUNUNTILSTALL_2:CALLSUB29 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_RUNUNTILSTALL_2
CALLSUB29:
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F 100.0 VLV_POWER_5
    MOVEF_F 230.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB30 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB30:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F -25.0 VLV_LEFTPOWER_12
    MOVEF_F -25.0 VLV_RIGHTPOWER_12
    MOVEF_F 55.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB31 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB31:
    DATA32 milliseconds32
	MOVEF_32 200.0 milliseconds32
	DATA32 timer32
	TIMER_WAIT milliseconds32 timer32
	TIMER_READY timer32
    STRINGS DUPLICATE 'B' VLV_PORT_9
    MOVEF_F 20.0 VLV_MINPOWER_9
    MOVEF_F 70.0 VLV_MAXPOWER_9
    MOVEF_F 70.0 VLV_ACCDIST_9
    MOVEF_F 80.0 VLV_DECDIST_9
    MOVEF_F 295.0 VLV_TOTALDIST_9
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHPORT_6:CALLSUB33 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHPORT_6
CALLSUB33:
    DATA32 milliseconds34
	MOVEF_32 100.0 milliseconds34
	DATA32 timer34
	TIMER_WAIT milliseconds34 timer34
	TIMER_READY timer34
    MOVEF_F 0.12 VLV_KP_20
    MOVEF_F 20.0 VLV_MINPOWER_20
    MOVEF_F 90.0 VLV_MAXPOWER_20
    MOVEF_F 460.0 VLV_TOTALDIST_20
    STRINGS DUPLICATE 'True' VLV_STRAIGHT_20
    STRINGS DUPLICATE 'True' VLV_ISBREAK_20
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHDRIVE_6:CALLSUB35 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHDRIVE_6
CALLSUB35:
    DATA32 milliseconds36
	MOVEF_32 100.0 milliseconds36
	DATA32 timer36
	TIMER_WAIT milliseconds36 timer36
	TIMER_READY timer36
    STRINGS DUPLICATE 'C' VLV_PORT_9
    MOVEF_F 30.0 VLV_MINPOWER_9
    MOVEF_F 80.0 VLV_MAXPOWER_9
    MOVEF_F 140.0 VLV_ACCDIST_9
    MOVEF_F 140.0 VLV_DECDIST_9
    MOVEF_F 530.0 VLV_TOTALDIST_9
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHPORT_6:CALLSUB37 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHPORT_6
CALLSUB37:
    DATA32 tmp38
    CALL GETANDINC32 RUNCOUNTER_F_SETVANGMOTOR_0 1  RUNCOUNTER_F_SETVANGMOTOR_0 tmp38
    JR_NEQ32 0 tmp38 alreadylaunched38
    OBJECT_START TF_SETVANGMOTOR_0
  alreadylaunched38:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F 45.0 VLV_LEFTPOWER_12
    MOVEF_F 45.0 VLV_RIGHTPOWER_12
    MOVEF_F 200.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'False' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB39 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB39:
    MOVEF_F 55.0 VLV_POWER_8
    WRITE32 ENDSUB_M_PONGTOOLS_MOVEUNTILSTALL_1:CALLSUB40 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOVEUNTILSTALL_1
CALLSUB40:
    DATA32 milliseconds41
	MOVEF_32 100.0 milliseconds41
	DATA32 timer41
	TIMER_WAIT milliseconds41 timer41
	TIMER_READY timer41
    MOVEF_F 0.11 VLV_KP_20
    MOVEF_F -15.0 VLV_MINPOWER_20
    MOVEF_F -30.0 VLV_MAXPOWER_20
    MOVEF_F 370.0 VLV_TOTALDIST_20
    STRINGS DUPLICATE 'True' VLV_STRAIGHT_20
    STRINGS DUPLICATE 'True' VLV_ISBREAK_20
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHDRIVE_6:CALLSUB42 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHDRIVE_6
CALLSUB42:
    DATA32 milliseconds43
	MOVEF_32 100.0 milliseconds43
	DATA32 timer43
	TIMER_WAIT milliseconds43 timer43
	TIMER_READY timer43
    STRINGS DUPLICATE 'B' VLV_PORT_9
    MOVEF_F 20.0 VLV_MINPOWER_9
    MOVEF_F 70.0 VLV_MAXPOWER_9
    MOVEF_F 100.0 VLV_ACCDIST_9
    MOVEF_F 100.0 VLV_DECDIST_9
    MOVEF_F 340.0 VLV_TOTALDIST_9
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHPORT_6:CALLSUB44 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHPORT_6
CALLSUB44:
    DATA32 milliseconds45
	MOVEF_32 100.0 milliseconds45
	DATA32 timer45
	TIMER_WAIT milliseconds45 timer45
	TIMER_READY timer45
    MOVEF_F 0.11 VLV_KP_15
    MOVEF_F 1.0 VLV_PORT_15
    MOVEF_F 16.0 VLV_POWER_15
    MOVEF_F 15.0 VLV_BLACKVALUE_15
    STRINGS DUPLICATE 'True' VLV_ISBREAK_15
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVESEE_5:CALLSUB46 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVESEE_5
CALLSUB46:
    DATA32 milliseconds47
	MOVEF_32 100.0 milliseconds47
	DATA32 timer47
	TIMER_WAIT milliseconds47 timer47
	TIMER_READY timer47
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F -30.0 VLV_LEFTPOWER_12
    MOVEF_F -30.0 VLV_RIGHTPOWER_12
    MOVEF_F 155.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB48 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB48:
    DATA32 milliseconds49
	MOVEF_32 100.0 milliseconds49
	DATA32 timer49
	TIMER_WAIT milliseconds49 timer49
	TIMER_READY timer49
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F 20.0 VLV_LEFTPOWER_12
    MOVEF_F 20.0 VLV_RIGHTPOWER_12
    MOVEF_F 50.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB50 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB50:
    DATA32 milliseconds51
	MOVEF_32 100.0 milliseconds51
	DATA32 timer51
	TIMER_WAIT milliseconds51 timer51
	TIMER_READY timer51
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F -60.0 VLV_POWER_5
    MOVEF_F 100.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB52 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB52:
    STRINGS DUPLICATE 'Red' VLV_COLOR1_4
    STRINGS DUPLICATE 'Blue' VLV_COLOR2_4
    WRITE32 ENDSUB_F_COLOOUT_2:CALLSUB53 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COLOOUT_2
CALLSUB53:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F -25.0 VLV_LEFTPOWER_12
    MOVEF_F -25.0 VLV_RIGHTPOWER_12
    MOVEF_F 40.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB54 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB54:
    DATA32 milliseconds55
	MOVEF_32 100.0 milliseconds55
	DATA32 timer55
	TIMER_WAIT milliseconds55 timer55
	TIMER_READY timer55
    MOVEF_F 0.11 VLV_KP_20
    MOVEF_F -15.0 VLV_MINPOWER_20
    MOVEF_F -25.0 VLV_MAXPOWER_20
    MOVEF_F 120.0 VLV_TOTALDIST_20
    STRINGS DUPLICATE 'False' VLV_STRAIGHT_20
    STRINGS DUPLICATE 'True' VLV_ISBREAK_20
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHDRIVE_6:CALLSUB56 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHDRIVE_6
CALLSUB56:
    DATA32 milliseconds57
	MOVEF_32 100.0 milliseconds57
	DATA32 timer57
	TIMER_WAIT milliseconds57 timer57
	TIMER_READY timer57
    PROGRAM_STOP -1
ENDTHREAD:
    RETURN
SUB_F_SETMOTORHOUSE_0:
    STRINGS DUPLICATE 'D' VLV_PORT_6
    MOVEF_F 50.0 VLV_POWER_6
    WRITE32 ENDSUB_M_PONGTOOLS_RUNUNTILSTALL_2:CALLSUB59 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_RUNUNTILSTALL_2
CALLSUB59:
    STRINGS DUPLICATE 'D' VLV_PORT_5
    MOVEF_F -80.0 VLV_POWER_5
    MOVEF_F 260.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB60 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB60:
RETSUB_F_SETMOTORHOUSE_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SETMOTORHOUSE_0:
SUB_F_SETVANGMOTOR_0:
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F 80.0 VLV_POWER_5
    MOVEF_F 136.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB61 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB61:
RETSUB_F_SETVANGMOTOR_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SETVANGMOTOR_0:
SUB_F_SPEAKCOLOR_1:
    CALL EQ_STRING VLV_COLOR_1 'Red' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else62_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Red'
    JR endif62
  else62_1:
    CALL EQ_STRING VLV_COLOR_1 'Green' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else62_2
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Green'
    JR endif62
  else62_2:
    CALL EQ_STRING VLV_COLOR_1 'Blue' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else62_3
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Blue'
    JR endif62
  else62_3:
    CALL EQ_STRING VLV_COLOR_1 'Yellow' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else62_4
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Yellow'
  else62_4:
  endif62:
RETSUB_F_SPEAKCOLOR_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SPEAKCOLOR_1:
SUB_F_COLORSORT1_1:
    MOVEF_F 1.0 VLV_MM_2
    CALL EQ_STRING VLV_COLOR_2 'Red' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_NEQ8 S.0 0 or72
    CALL EQ_STRING VLV_COLOR_2 'Yellow' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else71_1
  or72:
    MOVEF_F 1.0 VLV_MM_2
    JR endif71
  else71_1:
    CALL EQ_STRING VLV_COLOR_2 'Green' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_NEQ8 S.0 0 or75
    CALL EQ_STRING VLV_COLOR_2 'Blue' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else71_2
  or75:
    MOVEF_F -1.0 VLV_MM_2
  else71_2:
  endif71:
    STRINGS DUPLICATE 'D' VLV_PORT_6
    MULF -50.0 VLV_MM_2 VLV_POWER_6
    WRITE32 ENDSUB_M_PONGTOOLS_RUNUNTILSTALL_2:CALLSUB79 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_RUNUNTILSTALL_2
CALLSUB79:
    CALL EQ_STRING VLV_COLOR_2 'Red' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else80_1
    STRINGS DUPLICATE 'D' VLV_PORT_9
    MOVEF_F 30.0 VLV_MINPOWER_9
    MOVEF_F 60.0 VLV_MAXPOWER_9
    MOVEF_F 40.0 VLV_ACCDIST_9
    MOVEF_F 100.0 VLV_DECDIST_9
    MOVEF_F 155.0 VLV_TOTALDIST_9
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHPORT_6:CALLSUB82 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHPORT_6
CALLSUB82:
    JR endif80
  else80_1:
    CALL EQ_STRING VLV_COLOR_2 'Blue' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else80_2
    STRINGS DUPLICATE 'D' VLV_PORT_9
    MOVEF_F -30.0 VLV_MINPOWER_9
    MOVEF_F -60.0 VLV_MAXPOWER_9
    MOVEF_F 40.0 VLV_ACCDIST_9
    MOVEF_F 100.0 VLV_DECDIST_9
    MOVEF_F 160.0 VLV_TOTALDIST_9
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHPORT_6:CALLSUB84 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHPORT_6
CALLSUB84:
    JR endif80
  else80_2:
    CALL EQ_STRING VLV_COLOR_2 'Yellow' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else80_3
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Yellow'
  else80_3:
  endif80:
RETSUB_F_COLORSORT1_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_COLORSORT1_1:
SUB_F_COLORSORT2_2:
    CALL EQ_STRING VLV_COLOR1_3 'Red' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else87_1
    CALL EQ_STRING VLV_COLOR2_3 'Green' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else89_1
    STRINGS DUPLICATE 'D' VLV_PORT_6
    MOVEF_F 50.0 VLV_POWER_6
    WRITE32 ENDSUB_M_PONGTOOLS_RUNUNTILSTALL_2:CALLSUB91 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_RUNUNTILSTALL_2
CALLSUB91:
    JR endif89
  else89_1:
    CALL EQ_STRING VLV_COLOR2_3 'Blue' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else89_2
    STRINGS DUPLICATE 'D' VLV_PORT_9
    MOVEF_F 30.0 VLV_MINPOWER_9
    MOVEF_F 60.0 VLV_MAXPOWER_9
    MOVEF_F 40.0 VLV_ACCDIST_9
    MOVEF_F 90.0 VLV_DECDIST_9
    MOVEF_F 140.0 VLV_TOTALDIST_9
    WRITE32 ENDSUB_M_PONGTOOLS_SMOOTHPORT_6:CALLSUB93 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SMOOTHPORT_6
CALLSUB93:
    JR endif89
  else89_2:
    CALL EQ_STRING VLV_COLOR2_3 'Yellow' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else89_3
    STRINGS DUPLICATE 'D' VLV_PORT_6
    MOVEF_F -50.0 VLV_POWER_6
    WRITE32 ENDSUB_M_PONGTOOLS_RUNUNTILSTALL_2:CALLSUB95 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_RUNUNTILSTALL_2
CALLSUB95:
  else89_3:
  endif89:
    JR endif87
  else87_1:
    CALL EQ_STRING VLV_COLOR1_3 'Green' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else87_2
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Green'
    JR endif87
  else87_2:
    CALL EQ_STRING VLV_COLOR1_3 'Blue' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else87_3
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Blue'
    JR endif87
  else87_3:
    CALL EQ_STRING VLV_COLOR1_3 'Yellow' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else87_4
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Yellow'
  else87_4:
  endif87:
RETSUB_F_COLORSORT2_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_COLORSORT2_2:
SUB_F_COLOOUT_2:
    STRINGS DUPLICATE VLV_COLOR1_4 VLV_COLOR_2
    WRITE32 ENDSUB_F_COLORSORT1_1:CALLSUB102 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COLORSORT1_1
CALLSUB102:
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F 100.0 VLV_POWER_5
    MOVEF_F 100.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB103 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB103:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F -25.0 VLV_LEFTPOWER_12
    MOVEF_F -25.0 VLV_RIGHTPOWER_12
    MOVEF_F 130.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB104 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB104:
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F -60.0 VLV_POWER_5
    MOVEF_F 100.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB105 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB105:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F 15.0 VLV_LEFTPOWER_12
    MOVEF_F 15.0 VLV_RIGHTPOWER_12
    MOVEF_F 145.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB106 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB106:
    STRINGS DUPLICATE VLV_COLOR1_4 VLV_COLOR1_3
    STRINGS DUPLICATE VLV_COLOR2_4 VLV_COLOR2_3
    WRITE32 ENDSUB_F_COLORSORT2_2:CALLSUB107 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COLORSORT2_2
CALLSUB107:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F -20.0 VLV_LEFTPOWER_12
    MOVEF_F -20.0 VLV_RIGHTPOWER_12
    MOVEF_F 40.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB108 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB108:
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F 100.0 VLV_POWER_5
    MOVEF_F 100.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB109 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB109:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F -25.0 VLV_LEFTPOWER_12
    MOVEF_F -25.0 VLV_RIGHTPOWER_12
    MOVEF_F 160.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB110 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB110:
    STRINGS DUPLICATE 'A' VLV_PORT_5
    MOVEF_F -60.0 VLV_POWER_5
    MOVEF_F 100.0 VLV_DEGREE_5
    WRITE32 ENDSUB_M_PONGTOOLS_MOTORCTRL_3:CALLSUB111 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_MOTORCTRL_3
CALLSUB111:
    MOVEF_F 0.11 VLV_KP_12
    MOVEF_F 15.0 VLV_LEFTPOWER_12
    MOVEF_F 15.0 VLV_RIGHTPOWER_12
    MOVEF_F 225.0 VLV_TOTALDIST_12
    STRINGS DUPLICATE 'True' VLV_ISBREAK_12
    WRITE32 ENDSUB_M_PONGTOOLS_SYNCMOVE_5:CALLSUB112 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_PONGTOOLS_SYNCMOVE_5
CALLSUB112:
    DATA32 milliseconds113
	MOVEF_32 100.0 milliseconds113
	DATA32 timer113
	TIMER_WAIT milliseconds113 timer113
	TIMER_READY timer113
RETSUB_F_COLOOUT_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_COLOOUT_2:
SUB_M_PONGTOOLS_MOTORCTRL_3:
    CALL MOTOR.RESETCOUNT VLV_PORT_5
    MOVEF_F 0.0 VLV_DONE_5
  while115:
    JR_NEQF VLV_DONE_5 0.0 endwhile115
  whilebody115:
    CALL MOTOR.STARTPOWER VLV_PORT_5 VLV_POWER_5
    CALL MOTOR.GETCOUNT VLV_PORT_5 F.0
    MATH ABS F.0 VLV_ENC_5
    JR_LTF VLV_ENC_5 VLV_DEGREE_5 else119_1
    MOVEF_F 1.0 VLV_DONE_5
  else119_1:
  endif119:
    JR_EQF VLV_DONE_5 0.0 whilebody115
  endwhile115:
    CALL MOTOR.STOP VLV_PORT_5 'True'
RETSUB_M_PONGTOOLS_MOTORCTRL_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_MOTORCTRL_3:
SUB_M_PONGTOOLS_RUNUNTILSTALL_2:
    CALL MOTOR.RESETCOUNT VLV_PORT_6
    MOVEF_F 0.0 VLV_STALL_6
  while122:
    JR_NEQF VLV_STALL_6 0.0 endwhile122
  whilebody122:
    CALL MOTOR.GETCOUNT VLV_PORT_6 VLV_ENC1_6
    CALL MOTOR.STARTPOWER VLV_PORT_6 VLV_POWER_6
    DATA32 milliseconds125
	MOVEF_32 100.0 milliseconds125
	DATA32 timer125
	TIMER_WAIT milliseconds125 timer125
	TIMER_READY timer125
    CALL MOTOR.GETCOUNT VLV_PORT_6 VLV_ENC2_6
    SUBF VLV_ENC1_6 VLV_ENC2_6 F.0
    JR_NEQF F.0 0.0 else127_1
    MOVEF_F 1.0 VLV_STALL_6
  else127_1:
  endif127:
    JR_EQF VLV_STALL_6 0.0 whilebody122
  endwhile122:
    CALL MOTOR.STOP VLV_PORT_6 'True'
RETSUB_M_PONGTOOLS_RUNUNTILSTALL_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_RUNUNTILSTALL_2:
SUB_M_PONGTOOLS_SETUP_0:
    CALL MOTOR.INVERT 'B'
RETSUB_M_PONGTOOLS_SETUP_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_SETUP_0:
SUB_M_PONGTOOLS_MOVEUNTILSTALL_1:
    CALL MOTOR.RESETCOUNT 'BC'
    MOVEF_F 0.0 VLV_STALL_8
  while132:
    JR_NEQF VLV_STALL_8 0.0 endwhile132
  whilebody132:
    CALL MOTOR.GETCOUNT 'B' VLV_ENC1_8
    CALL MOTOR.GETCOUNT 'C' VLV_ENC3_8
    CALL MOTOR.STARTPOWER 'B' VLV_POWER_8
    CALL MOTOR.STARTPOWER 'C' VLV_POWER_8
    DATA32 milliseconds137
	MOVEF_32 100.0 milliseconds137
	DATA32 timer137
	TIMER_WAIT milliseconds137 timer137
	TIMER_READY timer137
    CALL MOTOR.GETCOUNT 'B' VLV_ENC2_8
    CALL MOTOR.GETCOUNT 'C' VLV_ENC4_8
    SUBF VLV_ENC1_8 VLV_ENC2_8 F.0
    JR_NEQF F.0 0.0 else140_1
    SUBF VLV_ENC3_8 VLV_ENC4_8 F.0
    JR_NEQF F.0 0.0 else140_1
    MOVEF_F 1.0 VLV_STALL_8
  else140_1:
  endif140:
    JR_EQF VLV_STALL_8 0.0 whilebody132
  endwhile132:
    CALL MOTOR.STOP 'BC' 'True'
RETSUB_M_PONGTOOLS_MOVEUNTILSTALL_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_MOVEUNTILSTALL_1:
SUB_M_PONGTOOLS_SMOOTHPORT_6:
    MOVEF_F VLV_MINPOWER_9 VLV_MINPWR_IN_10
    MOVEF_F VLV_MAXPOWER_9 VLV_MAXPWR_IN_10
    MOVEF_F VLV_ACCDIST_9 VLV_ACCELDIST_IN_10
    MOVEF_F VLV_DECDIST_9 VLV_DECELDIST_IN_10
    MOVEF_F VLV_TOTALDIST_9 VLV_TOTALDIST_IN_10
    WRITE32 ENDSUB_M_ADVMTCTRLS_ACCONEENC_CONFIG_5:CALLSUB144 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_ACCONEENC_CONFIG_5
CALLSUB144:
    CALL MOTOR.RESETCOUNT VLV_PORT_9
    MOVEF_F 0.0 VLV_DONE_9
  while146:
    JR_NEQF VLV_DONE_9 0.0 endwhile146
  whilebody146:
    CALL MOTOR.GETCOUNT VLV_PORT_9 VLV_ENC_9
    MOVEF_F VLV_ENC_9 VLV_E1_11
    WRITE32 ENDSUB_M_ADVMTCTRLS_ACCONEENC_3:CALLSUB148 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_ACCONEENC_3
CALLSUB148:
    MOVEF_F VLV_PWROUT_11 VLV_POUT_9
    MOVEF_F VLV_DONE_11 VLV_ISDONE_9
    CALL MOTOR.STARTPOWER VLV_PORT_9 VLV_POUT_9
    MOVEF_F VLV_ISDONE_9 VLV_DONE_9
    JR_EQF VLV_DONE_9 0.0 whilebody146
  endwhile146:
    CALL MOTOR.STOP VLV_PORT_9 'True'
RETSUB_M_PONGTOOLS_SMOOTHPORT_6:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_SMOOTHPORT_6:
SUB_M_ADVMTCTRLS_ACCONEENC_CONFIG_5:
    MATH ABS VLV_MINPWR_IN_10 VPR_ADVMTCTRLS_ACC1_MINPWR
    MATH ABS VLV_MAXPWR_IN_10 VPR_ADVMTCTRLS_ACC1_MAXPWR
    MOVEF_F VLV_ACCELDIST_IN_10 VPR_ADVMTCTRLS_ACC1_ACCELDIST
    MOVEF_F VLV_DECELDIST_IN_10 VPR_ADVMTCTRLS_ACC1_DECELDIST
    MOVEF_F VLV_TOTALDIST_IN_10 VPR_ADVMTCTRLS_ACC1_TOTALDIST
    JR_GTEQF VLV_MINPWR_IN_10 0.0 else153_1
    MOVEF_F 1.0 VPR_ADVMTCTRLS_ACC1_ISNEG
    JR endif153
  else153_1:
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC1_ISNEG
  else153_2:
  endif153:
RETSUB_M_ADVMTCTRLS_ACCONEENC_CONFIG_5:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_ACCONEENC_CONFIG_5:
SUB_M_ADVMTCTRLS_ACCONEENC_3:
    MATH ABS VLV_E1_11 VLV_CURRENC_11
    JR_LTF VLV_CURRENC_11 VPR_ADVMTCTRLS_ACC1_TOTALDIST else155_1
    MOVEF_F 1.0 VLV_DONE_11
    JR endif155
  else155_1:
    DATAF tmpf156
    DATA8 flag156
    DIVF VPR_ADVMTCTRLS_ACC1_TOTALDIST 2.0 tmpf156
    CP_EQF 0.0 2.0 flag156
    SELECTF flag156 0.0 tmpf156 F.0

    JR_LTEQF VLV_CURRENC_11 F.0 else155_2
    JR_NEQF VPR_ADVMTCTRLS_ACC1_DECELDIST 0.0 else157_1
    MOVEF_F VPR_ADVMTCTRLS_ACC1_MAXPWR VPR_ADVMTCTRLS_PWR
    JR endif157
  else157_1:
    SUBF VPR_ADVMTCTRLS_ACC1_MAXPWR VPR_ADVMTCTRLS_ACC1_MINPWR F.2
    MATH POW VPR_ADVMTCTRLS_ACC1_DECELDIST 2.0 F.3
    DATAF tmpf160
    DATA8 flag160
    DIVF F.2 F.3 tmpf160
    CP_EQF 0.0 F.3 flag160
    SELECTF flag160 0.0 tmpf160 F.1

    SUBF VLV_CURRENC_11 VPR_ADVMTCTRLS_ACC1_TOTALDIST F.3
    MATH POW F.3 2.0 F.2
    MULF F.1 F.2 F.0
    ADDF F.0 VPR_ADVMTCTRLS_ACC1_MINPWR VPR_ADVMTCTRLS_PWR
  else157_2:
  endif157:
    MOVEF_F 0.0 VLV_DONE_11
    JR endif155
  else155_2:
    JR_NEQF VPR_ADVMTCTRLS_ACC1_ACCELDIST 0.0 else165_1
    MOVEF_F VPR_ADVMTCTRLS_ACC1_MAXPWR VPR_ADVMTCTRLS_PWR
    JR endif165
  else165_1:
    SUBF VPR_ADVMTCTRLS_ACC1_MAXPWR VPR_ADVMTCTRLS_ACC1_MINPWR F.2
    MATH POW VPR_ADVMTCTRLS_ACC1_ACCELDIST 2.0 F.3
    DATAF tmpf168
    DATA8 flag168
    DIVF F.2 F.3 tmpf168
    CP_EQF 0.0 F.3 flag168
    SELECTF flag168 0.0 tmpf168 F.1

    SUBF VLV_CURRENC_11 0.0 F.3
    MATH POW F.3 2.0 F.2
    MULF F.1 F.2 F.0
    ADDF F.0 VPR_ADVMTCTRLS_ACC1_MINPWR VPR_ADVMTCTRLS_PWR
  else165_2:
  endif165:
    MOVEF_F 0.0 VLV_DONE_11
  else155_3:
  endif155:
    JR_GTEQF VPR_ADVMTCTRLS_PWR VPR_ADVMTCTRLS_ACC1_MINPWR else173_1
    MOVEF_F VPR_ADVMTCTRLS_ACC1_MINPWR VPR_ADVMTCTRLS_PWR
    JR endif173
  else173_1:
    JR_LTEQF VPR_ADVMTCTRLS_PWR VPR_ADVMTCTRLS_ACC1_MAXPWR else173_2
    MOVEF_F VPR_ADVMTCTRLS_ACC1_MAXPWR VPR_ADVMTCTRLS_PWR
  else173_2:
  endif173:
    JR_NEQF VPR_ADVMTCTRLS_ACC1_ISNEG 1.0 else174_1
    SUBF 0.0 VPR_ADVMTCTRLS_PWR VLV_PWROUT_11
    JR endif174
  else174_1:
    MOVEF_F VPR_ADVMTCTRLS_PWR VLV_PWROUT_11
  else174_2:
  endif174:
RETSUB_M_ADVMTCTRLS_ACCONEENC_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_ACCONEENC_3:
SUB_M_PONGTOOLS_SYNCMOVE_5:
    MOVEF_F VLV_KP_12 VLV_KP_IN_13
    MOVEF_F VLV_LEFTPOWER_12 VLV_VB_IN_13
    MOVEF_F VLV_RIGHTPOWER_12 VLV_VC_IN_13
    WRITE32 ENDSUB_M_ADVMTCTRLS_SYNC_CONFIG_3:CALLSUB176 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_SYNC_CONFIG_3
CALLSUB176:
    CALL MOTOR.RESETCOUNT 'BC'
    MOVEF_F 0.0 VLV_DIST_12
  while178:
    JR_GTEQF VLV_DIST_12 VLV_TOTALDIST_12 endwhile178
  whilebody178:
    CALL MOTOR.GETCOUNT 'B' VLV_ENC1_12
    CALL MOTOR.GETCOUNT 'C' VLV_ENC2_12
    MOVEF_F VLV_ENC1_12 VLV_EB_14
    MOVEF_F VLV_ENC2_12 VLV_EC_14
    WRITE32 ENDSUB_M_ADVMTCTRLS_SYNC_4:CALLSUB181 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_SYNC_4
CALLSUB181:
    MOVEF_F VLV_PB_14 VLV_P1OUT_12
    MOVEF_F VLV_PC_14 VLV_P2OUT_12
    CALL MOTOR.STARTPOWER 'B' VLV_P1OUT_12
    CALL MOTOR.STARTPOWER 'C' VLV_P2OUT_12
    CALL MOTOR.GETCOUNT 'B' F.2
    MATH ABS F.2 F.1
    CALL MOTOR.GETCOUNT 'C' F.3
    MATH ABS F.3 F.2
    ADDF F.1 F.2 F.0
    DATAF tmpf189
    DATA8 flag189
    DIVF F.0 2.0 tmpf189
    CP_EQF 0.0 2.0 flag189
    SELECTF flag189 0.0 tmpf189 VLV_DIST_12

    JR_LTF VLV_DIST_12 VLV_TOTALDIST_12 whilebody178
  endwhile178:
    CALL MOTOR.STOP 'BC' VLV_ISBREAK_12
RETSUB_M_PONGTOOLS_SYNCMOVE_5:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_SYNCMOVE_5:
SUB_M_ADVMTCTRLS_SYNC_CONFIG_3:
    MOVEF_F VLV_KP_IN_13 VPR_ADVMTCTRLS_SYNC_KP
    MOVEF_F VLV_VB_IN_13 VPR_ADVMTCTRLS_SYNC_VB
    MOVEF_F VLV_VC_IN_13 VPR_ADVMTCTRLS_SYNC_VC
    ADDF VLV_VB_IN_13 1.0 F.1
    MATH ABS F.1 F.0
    MATH ABS VLV_VB_IN_13 F.1
    SUBF F.0 F.1 VPR_ADVMTCTRLS_SYNC_VBSIGN
    ADDF VLV_VC_IN_13 1.0 F.1
    MATH ABS F.1 F.0
    MATH ABS VLV_VC_IN_13 F.1
    SUBF F.0 F.1 VPR_ADVMTCTRLS_SYNC_VCSIGN
RETSUB_M_ADVMTCTRLS_SYNC_CONFIG_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_SYNC_CONFIG_3:
SUB_M_ADVMTCTRLS_SYNC_4:
    MULF VPR_ADVMTCTRLS_SYNC_VC VLV_EB_14 F.1
    MULF VPR_ADVMTCTRLS_SYNC_VB VLV_EC_14 F.2
    SUBF F.1 F.2 F.0
    MULF F.0 VPR_ADVMTCTRLS_SYNC_KP VLV_U_14
    MULF VPR_ADVMTCTRLS_SYNC_VCSIGN VLV_U_14 F.0
    SUBF VPR_ADVMTCTRLS_SYNC_VB F.0 VLV_PB_14
    MULF VPR_ADVMTCTRLS_SYNC_VBSIGN VLV_U_14 F.0
    ADDF VPR_ADVMTCTRLS_SYNC_VC F.0 VLV_PC_14
RETSUB_M_ADVMTCTRLS_SYNC_4:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_SYNC_4:
SUB_M_PONGTOOLS_SYNCMOVESEE_5:
    MOVEF_F VLV_KP_15 VLV_KP_IN_13
    MOVEF_F VLV_POWER_15 VLV_VB_IN_13
    MOVEF_F VLV_POWER_15 VLV_VC_IN_13
    WRITE32 ENDSUB_M_ADVMTCTRLS_SYNC_CONFIG_3:CALLSUB207 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_SYNC_CONFIG_3
CALLSUB207:
    CALL MOTOR.RESETCOUNT 'BC'
    MOVEF_F 0.0 VLV_DONE_15
  while209:
    JR_NEQF VLV_DONE_15 0.0 endwhile209
  whilebody209:
    CALL MOTOR.GETCOUNT 'B' VLV_ENC1_15
    CALL MOTOR.GETCOUNT 'C' VLV_ENC2_15
    MOVEF_F VLV_ENC1_15 VLV_EB_14
    MOVEF_F VLV_ENC2_15 VLV_EC_14
    WRITE32 ENDSUB_M_ADVMTCTRLS_SYNC_4:CALLSUB212 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_SYNC_4
CALLSUB212:
    MOVEF_F VLV_PB_14 VLV_P1OUT_15
    MOVEF_F VLV_PC_14 VLV_P2OUT_15
    CALL MOTOR.STARTPOWER 'B' VLV_P1OUT_15
    CALL MOTOR.STARTPOWER 'C' VLV_P2OUT_15
    MOVEF_F VLV_PORT_15 VLV_PORT_16
    WRITE32 ENDSUB_M_COLOR_GETLIGHT_2:CALLSUB215 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_COLOR_GETLIGHT_2
CALLSUB215:
    MOVEF_F VLV_VALUE_16 VLV_LIGHTOUT_15
    JR_GTF VLV_LIGHTOUT_15 VLV_BLACKVALUE_15 else216_1
    MOVEF_F 1.0 VLV_DONE_15
  else216_1:
  endif216:
    DATA32 milliseconds217
	MOVEF_32 10.0 milliseconds217
	DATA32 timer217
	TIMER_WAIT milliseconds217 timer217
	TIMER_READY timer217
    JR_EQF VLV_DONE_15 0.0 whilebody209
  endwhile209:
    CALL MOTOR.STOP 'BC' VLV_ISBREAK_15
RETSUB_M_PONGTOOLS_SYNCMOVESEE_5:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_SYNCMOVESEE_5:
SUB_M_COLOR_GETLIGHT_2:
    DATA8 layer219
	DATA8 no219
	DATA8 mode8219
	
	MOVEF_8 VLV_PORT_16 no219
	SUB8 no219 1 no219
	DIV8 no219 4 layer219
	MATH MOD8 no219 4 no219

	MOVEF_8 0.0 mode8219
	
	INPUT_DEVICE READY_RAW layer219 no219 0 mode8219 0
    CALL SENSOR.READRAWVALUE VLV_PORT_16 0.0 VLV_VALUE_16
RETSUB_M_COLOR_GETLIGHT_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_COLOR_GETLIGHT_2:
SUB_M_PONGTOOLS_LINETRACK_5:
    MOVEF_F VLV_KP_17 VLV_KP_IN_18
    MOVEF_F VLV_KD_17 VLV_KD_IN_18
    MOVEF_F VLV_POWER_17 VLV_PWR_IN_18
    WRITE32 ENDSUB_M_ADVMTCTRLS_PD_CONFIG_3:CALLSUB221 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_PD_CONFIG_3
CALLSUB221:
    MOVEF_F 0.0 VLV_DIST_17
    CALL MOTOR.RESETCOUNT 'BC'
  while223:
    JR_GTEQF VLV_DIST_17 VLV_TOTALDIST_17 endwhile223
  whilebody223:
    MOVEF_F 1.0 VLV_PORT_16
    WRITE32 ENDSUB_M_COLOR_GETLIGHT_2:CALLSUB224 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_COLOR_GETLIGHT_2
CALLSUB224:
    MOVEF_F VLV_VALUE_16 VLV_LIGHT1_17
    MOVEF_F 2.0 VLV_PORT_16
    WRITE32 ENDSUB_M_COLOR_GETLIGHT_2:CALLSUB225 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_COLOR_GETLIGHT_2
CALLSUB225:
    MOVEF_F VLV_VALUE_16 VLV_LIGHT2_17
    MOVEF_F VLV_LIGHT1_17 VLV_E1_19
    MOVEF_F VLV_LIGHT2_17 VLV_E2_19
    WRITE32 ENDSUB_M_ADVMTCTRLS_PD_4:CALLSUB226 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_PD_4
CALLSUB226:
    MOVEF_F VLV_PB_19 VLV_P1OUT_17
    MOVEF_F VLV_PC_19 VLV_P2OUT_17
    CALL MOTOR.STARTPOWER 'B' VLV_P1OUT_17
    CALL MOTOR.STARTPOWER 'C' VLV_P2OUT_17
    CALL MOTOR.GETCOUNT 'B' F.2
    MATH ABS F.2 F.1
    CALL MOTOR.GETCOUNT 'C' F.3
    MATH ABS F.3 F.2
    ADDF F.1 F.2 F.0
    DATAF tmpf234
    DATA8 flag234
    DIVF F.0 2.0 tmpf234
    CP_EQF 0.0 2.0 flag234
    SELECTF flag234 0.0 tmpf234 VLV_DIST_17

    DATA32 milliseconds235
	MOVEF_32 10.0 milliseconds235
	DATA32 timer235
	TIMER_WAIT milliseconds235 timer235
	TIMER_READY timer235
    JR_LTF VLV_DIST_17 VLV_TOTALDIST_17 whilebody223
  endwhile223:
    CALL MOTOR.STOP 'BC' VLV_ISBREAK_17
RETSUB_M_PONGTOOLS_LINETRACK_5:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_LINETRACK_5:
SUB_M_ADVMTCTRLS_PD_CONFIG_3:
    MOVEF_F VLV_KP_IN_18 VPR_ADVMTCTRLS_KP
    MOVEF_F VLV_KD_IN_18 VPR_ADVMTCTRLS_KD
    MOVEF_F VLV_PWR_IN_18 VPR_ADVMTCTRLS_PWR
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ERR_OLD
RETSUB_M_ADVMTCTRLS_PD_CONFIG_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_PD_CONFIG_3:
SUB_M_ADVMTCTRLS_PD_4:
    SUBF VLV_E1_19 VLV_E2_19 VLV_ERR_19
    MULF VLV_ERR_19 VPR_ADVMTCTRLS_KP F.0
    SUBF VLV_ERR_19 VPR_ADVMTCTRLS_ERR_OLD F.2
    MULF F.2 VPR_ADVMTCTRLS_KD F.1
    ADDF F.0 F.1 VLV_U_19
    ADDF VPR_ADVMTCTRLS_PWR VLV_U_19 VLV_PB_19
    SUBF VPR_ADVMTCTRLS_PWR VLV_U_19 VLV_PC_19
    MOVEF_F VLV_ERR_19 VPR_ADVMTCTRLS_ERR_OLD
RETSUB_M_ADVMTCTRLS_PD_4:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_PD_4:
SUB_M_PONGTOOLS_SMOOTHDRIVE_6:
    MULF VLV_TOTALDIST_20 0.5 F.0
    JR_LTF F.0 300.0 else244_1
    MOVEF_F 300.0 VLV_ACCDIST_20
    MOVEF_F 300.0 VLV_DECDIST_20
    JR endif244
  else244_1:
    MULF VLV_TOTALDIST_20 0.6 VLV_DECDIST_20
    SUBF VLV_TOTALDIST_20 VLV_DECDIST_20 VLV_ACCDIST_20
  else244_2:
  endif244:
    MOVEF_F VLV_MINPOWER_20 VLV_MINPWR_IN_21
    MOVEF_F VLV_MAXPOWER_20 VLV_MAXPWR_IN_21
    MOVEF_F VLV_ACCDIST_20 VLV_ACCELDIST_IN_21
    MOVEF_F VLV_DECDIST_20 VLV_DECELDIST_IN_21
    MOVEF_F VLV_TOTALDIST_20 VLV_TOTALDIST_IN_21
    WRITE32 ENDSUB_M_ADVMTCTRLS_ACCTWOENC_CONFIG_5:CALLSUB248 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_ACCTWOENC_CONFIG_5
CALLSUB248:
    MOVEF_F VLV_KP_20 VLV_KP_IN_13
    MOVEF_F 50.0 VLV_VB_IN_13
    MOVEF_F 50.0 VLV_VC_IN_13
    WRITE32 ENDSUB_M_ADVMTCTRLS_SYNC_CONFIG_3:CALLSUB249 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_SYNC_CONFIG_3
CALLSUB249:
    CALL MOTOR.RESETCOUNT 'BC'
    MOVEF_F 1.0 VLV_MP_20
    CALL EQ_STRING VLV_STRAIGHT_20 'False' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else251_1
    MOVEF_F -1.0 VLV_MP_20
  else251_1:
  endif251:
    MOVEF_F 0.0 VLV_DONE_20
  while253:
    JR_NEQF VLV_DONE_20 0.0 endwhile253
  whilebody253:
    CALL MOTOR.GETCOUNT 'B' VLV_ENC1_20
    CALL MOTOR.GETCOUNT 'C' VLV_ENC2_20
    MOVEF_F VLV_ENC1_20 VLV_E1_22
    MOVEF_F VLV_ENC2_20 VLV_E2_22
    WRITE32 ENDSUB_M_ADVMTCTRLS_ACCTWOENC_4:CALLSUB256 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_ACCTWOENC_4
CALLSUB256:
    MOVEF_F VLV_PWROUT_22 VLV_POUT_20
    MOVEF_F VLV_DONE_22 VLV_ISDONE_20
    MOVEF_F VLV_ENC1_20 VLV_EB_23
    MOVEF_F VLV_ENC2_20 VLV_EC_23
    MOVEF_F VLV_KP_20 VLV_S_KP_23
    MULF VLV_POUT_20 VLV_MP_20 VLV_VB_23
    MOVEF_F VLV_POUT_20 VLV_VC_23
    WRITE32 ENDSUB_M_ADVMTCTRLS_SYNC_PWRIN_7:CALLSUB258 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_SYNC_PWRIN_7
CALLSUB258:
    MOVEF_F VLV_PB_23 VLV_P1OUT_20
    MOVEF_F VLV_PC_23 VLV_P2OUT_20
    CALL MOTOR.STARTPOWER 'B' VLV_P1OUT_20
    CALL MOTOR.STARTPOWER 'C' VLV_P2OUT_20
    MOVEF_F VLV_ISDONE_20 VLV_DONE_20
    JR_EQF VLV_DONE_20 0.0 whilebody253
  endwhile253:
    CALL MOTOR.STOP 'BC' VLV_ISBREAK_20
RETSUB_M_PONGTOOLS_SMOOTHDRIVE_6:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_SMOOTHDRIVE_6:
SUB_M_ADVMTCTRLS_ACCTWOENC_CONFIG_5:
    MATH ABS VLV_MINPWR_IN_21 VPR_ADVMTCTRLS_ACC2_MINPWR
    MATH ABS VLV_MAXPWR_IN_21 VPR_ADVMTCTRLS_ACC2_MAXPWR
    MOVEF_F VLV_ACCELDIST_IN_21 VPR_ADVMTCTRLS_ACC2_ACCELDIST
    MOVEF_F VLV_DECELDIST_IN_21 VPR_ADVMTCTRLS_ACC2_DECELDIST
    MOVEF_F VLV_TOTALDIST_IN_21 VPR_ADVMTCTRLS_ACC2_TOTALDIST
    JR_GTEQF VLV_MINPWR_IN_21 0.0 else264_1
    MOVEF_F 1.0 VPR_ADVMTCTRLS_ACC2_ISNEG
    JR endif264
  else264_1:
    MOVEF_F 0.0 VPR_ADVMTCTRLS_ACC2_ISNEG
  else264_2:
  endif264:
RETSUB_M_ADVMTCTRLS_ACCTWOENC_CONFIG_5:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_ACCTWOENC_CONFIG_5:
SUB_M_ADVMTCTRLS_ACCTWOENC_4:
    MATH ABS VLV_E1_22 F.1
    MATH ABS VLV_E2_22 F.2
    ADDF F.1 F.2 F.0
    DATAF tmpf268
    DATA8 flag268
    DIVF F.0 2.0 tmpf268
    CP_EQF 0.0 2.0 flag268
    SELECTF flag268 0.0 tmpf268 VLV_CURRENC_22

    JR_LTF VLV_CURRENC_22 VPR_ADVMTCTRLS_ACC2_TOTALDIST else269_1
    MOVEF_F 1.0 VLV_DONE_22
    JR endif269
  else269_1:
    DATAF tmpf270
    DATA8 flag270
    DIVF VPR_ADVMTCTRLS_ACC2_TOTALDIST 2.0 tmpf270
    CP_EQF 0.0 2.0 flag270
    SELECTF flag270 0.0 tmpf270 F.0

    JR_LTEQF VLV_CURRENC_22 F.0 else269_2
    JR_NEQF VPR_ADVMTCTRLS_ACC2_DECELDIST 0.0 else271_1
    MOVEF_F VPR_ADVMTCTRLS_ACC2_MAXPWR VPR_ADVMTCTRLS_PWR
    JR endif271
  else271_1:
    SUBF VPR_ADVMTCTRLS_ACC2_MAXPWR VPR_ADVMTCTRLS_ACC2_MINPWR F.2
    MATH POW VPR_ADVMTCTRLS_ACC2_DECELDIST 2.0 F.3
    DATAF tmpf274
    DATA8 flag274
    DIVF F.2 F.3 tmpf274
    CP_EQF 0.0 F.3 flag274
    SELECTF flag274 0.0 tmpf274 F.1

    SUBF VLV_CURRENC_22 VPR_ADVMTCTRLS_ACC2_TOTALDIST F.3
    MATH POW F.3 2.0 F.2
    MULF F.1 F.2 F.0
    ADDF F.0 VPR_ADVMTCTRLS_ACC2_MINPWR VPR_ADVMTCTRLS_PWR
  else271_2:
  endif271:
    MOVEF_F 0.0 VLV_DONE_22
    JR endif269
  else269_2:
    JR_NEQF VPR_ADVMTCTRLS_ACC2_ACCELDIST 0.0 else279_1
    MOVEF_F VPR_ADVMTCTRLS_ACC2_MAXPWR VPR_ADVMTCTRLS_PWR
    JR endif279
  else279_1:
    SUBF VPR_ADVMTCTRLS_ACC2_MAXPWR VPR_ADVMTCTRLS_ACC2_MINPWR F.2
    MATH POW VPR_ADVMTCTRLS_ACC2_ACCELDIST 2.0 F.3
    DATAF tmpf282
    DATA8 flag282
    DIVF F.2 F.3 tmpf282
    CP_EQF 0.0 F.3 flag282
    SELECTF flag282 0.0 tmpf282 F.1

    SUBF VLV_CURRENC_22 0.0 F.3
    MATH POW F.3 2.0 F.2
    MULF F.1 F.2 F.0
    ADDF F.0 VPR_ADVMTCTRLS_ACC2_MINPWR VPR_ADVMTCTRLS_PWR
  else279_2:
  endif279:
    MOVEF_F 0.0 VLV_DONE_22
  else269_3:
  endif269:
    JR_GTEQF VPR_ADVMTCTRLS_PWR VPR_ADVMTCTRLS_ACC2_MINPWR else287_1
    MOVEF_F VPR_ADVMTCTRLS_ACC2_MINPWR VPR_ADVMTCTRLS_PWR
    JR endif287
  else287_1:
    JR_LTEQF VPR_ADVMTCTRLS_PWR VPR_ADVMTCTRLS_ACC2_MAXPWR else287_2
    MOVEF_F VPR_ADVMTCTRLS_ACC2_MAXPWR VPR_ADVMTCTRLS_PWR
  else287_2:
  endif287:
    JR_NEQF VPR_ADVMTCTRLS_ACC2_ISNEG 1.0 else288_1
    SUBF 0.0 VPR_ADVMTCTRLS_PWR VLV_PWROUT_22
    JR endif288
  else288_1:
    MOVEF_F VPR_ADVMTCTRLS_PWR VLV_PWROUT_22
  else288_2:
  endif288:
RETSUB_M_ADVMTCTRLS_ACCTWOENC_4:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_ACCTWOENC_4:
SUB_M_ADVMTCTRLS_SYNC_PWRIN_7:
    MULF VLV_VC_23 VLV_EB_23 F.1
    MULF VLV_VB_23 VLV_EC_23 F.2
    SUBF F.1 F.2 F.0
    MULF F.0 VLV_S_KP_23 VLV_U_23
    ADDF VLV_VC_23 1.0 F.3
    MATH ABS F.3 F.2
    MATH ABS VLV_VC_23 F.3
    SUBF F.2 F.3 F.1
    MULF F.1 VLV_U_23 F.0
    SUBF VLV_VB_23 F.0 VLV_PB_23
    ADDF VLV_VB_23 1.0 F.3
    MATH ABS F.3 F.2
    MATH ABS VLV_VB_23 F.3
    SUBF F.2 F.3 F.1
    MULF F.1 VLV_U_23 F.0
    ADDF VLV_VC_23 F.0 VLV_PC_23
RETSUB_M_ADVMTCTRLS_SYNC_PWRIN_7:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_SYNC_PWRIN_7:
SUB_M_PONGTOOLS_SMOOTHLINETRACK_5:
    MULF VLV_TOTALDIST_24 0.5 F.0
    JR_LTF F.0 300.0 else306_1
    MOVEF_F 300.0 VLV_ACCDIST_24
    MOVEF_F 300.0 VLV_DECDIST_24
    JR endif306
  else306_1:
    MULF VLV_TOTALDIST_24 0.5 VLV_ACCDIST_24
    SUBF VLV_TOTALDIST_24 VLV_ACCDIST_24 VLV_DECDIST_24
  else306_2:
  endif306:
    MOVEF_F VLV_MINPOWER_24 VLV_MINPWR_IN_21
    MOVEF_F VLV_MAXPOWER_24 VLV_MAXPWR_IN_21
    MOVEF_F VLV_ACCDIST_24 VLV_ACCELDIST_IN_21
    MOVEF_F VLV_DECDIST_24 VLV_DECELDIST_IN_21
    MOVEF_F VLV_TOTALDIST_24 VLV_TOTALDIST_IN_21
    WRITE32 ENDSUB_M_ADVMTCTRLS_ACCTWOENC_CONFIG_5:CALLSUB310 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_ACCTWOENC_CONFIG_5
CALLSUB310:
    MOVEF_F VLV_KP_24 VLV_KP_IN_18
    MOVEF_F VLV_KD_24 VLV_KD_IN_18
    MOVEF_F VLV_MAXPOWER_24 VLV_PWR_IN_18
    WRITE32 ENDSUB_M_ADVMTCTRLS_PD_CONFIG_3:CALLSUB311 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_PD_CONFIG_3
CALLSUB311:
    MOVEF_F 0.0 VLV_DONE_24
    CALL MOTOR.RESETCOUNT 'BC'
  while313:
    JR_NEQF VLV_DONE_24 0.0 endwhile313
  whilebody313:
    MOVEF_F 1.0 VLV_PORT_16
    WRITE32 ENDSUB_M_COLOR_GETLIGHT_2:CALLSUB314 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_COLOR_GETLIGHT_2
CALLSUB314:
    MOVEF_F VLV_VALUE_16 VLV_LIGHT1_24
    MOVEF_F 2.0 VLV_PORT_16
    WRITE32 ENDSUB_M_COLOR_GETLIGHT_2:CALLSUB315 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_COLOR_GETLIGHT_2
CALLSUB315:
    MOVEF_F VLV_VALUE_16 VLV_LIGHT2_24
    CALL MOTOR.GETCOUNT 'B' VLV_ENC1_24
    CALL MOTOR.GETCOUNT 'C' VLV_ENC2_24
    MOVEF_F VLV_ENC1_24 VLV_E1_22
    MOVEF_F VLV_ENC2_24 VLV_E2_22
    WRITE32 ENDSUB_M_ADVMTCTRLS_ACCTWOENC_4:CALLSUB318 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_ACCTWOENC_4
CALLSUB318:
    MOVEF_F VLV_PWROUT_22 VLV_POUT_24
    MOVEF_F VLV_DONE_22 VLV_ISDONE_24
    MOVEF_F VLV_POUT_24 VLV_PWRIN_25
    MOVEF_F VLV_LIGHT1_24 VLV_E1_25
    MOVEF_F VLV_LIGHT2_24 VLV_E2_25
    WRITE32 ENDSUB_M_ADVMTCTRLS_PD_PWRIN_5:CALLSUB319 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_ADVMTCTRLS_PD_PWRIN_5
CALLSUB319:
    MOVEF_F VLV_PB_25 VLV_P1OUT_24
    MOVEF_F VLV_PC_25 VLV_P2OUT_24
    CALL MOTOR.STARTPOWER 'B' VLV_P1OUT_24
    CALL MOTOR.STARTPOWER 'C' VLV_P2OUT_24
    MOVEF_F VLV_ISDONE_24 VLV_DONE_24
    DATA32 milliseconds322
	MOVEF_32 10.0 milliseconds322
	DATA32 timer322
	TIMER_WAIT milliseconds322 timer322
	TIMER_READY timer322
    JR_EQF VLV_DONE_24 0.0 whilebody313
  endwhile313:
    CALL MOTOR.STOP 'BC' 'True'
RETSUB_M_PONGTOOLS_SMOOTHLINETRACK_5:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_PONGTOOLS_SMOOTHLINETRACK_5:
SUB_M_ADVMTCTRLS_PD_PWRIN_5:
    SUBF VLV_E1_25 VLV_E2_25 VLV_ERR_25
    MULF VLV_ERR_25 VPR_ADVMTCTRLS_KP F.0
    SUBF VLV_ERR_25 VPR_ADVMTCTRLS_ERR_OLD F.2
    MULF F.2 VPR_ADVMTCTRLS_KD F.1
    ADDF F.0 F.1 VLV_U_25
    ADDF VLV_PWRIN_25 VLV_U_25 VLV_PB_25
    SUBF VLV_PWRIN_25 VLV_U_25 VLV_PC_25
    MOVEF_F VLV_ERR_25 VPR_ADVMTCTRLS_ERR_OLD
RETSUB_M_ADVMTCTRLS_PD_PWRIN_5:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_ADVMTCTRLS_PD_PWRIN_5:
}
subcall EQ_STRING       // SSS
{
	IN_S  a 252
	IN_S  b 252
	OUT_S result 8
	
	DATA8 flag
	
	// check if completely equal
	STRINGS COMPARE a b flag
	JR_NEQ8 FLAG 0 isequal
	// second chance: when both values are "True" in any casing, this also counts as equal
	AND8888_32 a -538976289 a        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE a 'TRUE' flag	
	JR_EQ8 0,flag,isnotequal
	AND8888_32 b -538976289 b        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE b 'TRUE' flag	
	JR_EQ8 0,flag,isnotequal
isequal:
	STRINGS DUPLICATE 'True' result
	RETURN
isnotequal:
	STRINGS DUPLICATE 'False' result
	RETURN
}
subcall SPEAKER.PLAY    // FSV 
{
	IN_F volume
	IN_S filename 252	

	// prepend a path to really reach the target file from the current working directory
	DATA8 vol 
	DATAS fullname 300
	MOVEF_8 volume vol

	STRINGS ADD '../../../..' filename fullname  // when using absolute path, go to file system top from the VM directory and then back down
	JR_EQ8 filename 47 absolutepath               // filename begins with a '/' - using absolute path
	STRINGS ADD '../prjs/' filename fullname      // by default use path relative to prjs folder (must go from the current VM directory to there)
absolutepath:
	
	SOUND PLAY vol fullname
}
subcall MOTOR.RESETCOUNT    // SV        MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	
	DATA8 layer
	DATA8 nos
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	JR_EQ8 nos 0 noport

	OUTPUT_CLR_COUNT layer nos
noport:
}
subcall MOTORDECODEPORTSDESCRIPTOR  //  V
{
	IN_S descriptor 8
	OUT_8 layer
	OUT_8 nos

	DATA8 i 
	DATA8 c

	MOVE8_8 0 layer
	MOVE8_8 0 nos	
	MOVE8_8 0 i
loop:
	READ8 descriptor i c
	JR_EQ8 c 0 decoding_end
	
	JR_LT8 c 65 no_uppercase_port
	JR_GT8 c 68 no_uppercase_port
	SUB8 c 65 c
	RL8  1 c c
	OR8  nos c nos
	JR loop_end
no_uppercase_port:
	JR_LT8 c 97 no_lowercase_port
	JR_GT8 c 100 no_lowercase_port
	SUB8 c 97 c
	RL8  1 c c
	OR8  nos c nos	
	JR loop_end
no_lowercase_port:
	JR_LT8 c 49 loop_end
	JR_GT8 c 52 loop_end
	SUB8 c 49 layer
loop_end:
	ADD8 1 i i
	JR loop	
	
decoding_end:
	RETURN
}
subcall MOTOR.STARTPOWER      // SFV     MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_F power

	DATA8 layer
	DATA8 nos	

	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	JR_EQ8 nos 0 noport
	
	JR_GTEQF power -100.0 nottoosmall
	MOVEF_F -100.0 power
nottoosmall:
	JR_LTEQF power 100.0 nottoobig
	MOVEF_F 100.0 power
nottoobig:

	DATA8 pwr
	MOVEF_8 power pwr

    OUTPUT_TIME_POWER layer nos pwr 0 2147483647 0 0
noport:
}
subcall MOTOR.GETCOUNT    // SF     MOTORDECODEPORTDESCRIPTOR
{
	IN_S port 8
	OUT_F result
	
	DATA8 layer
	DATA8 no
	DATA32 tacho
	
	CALL MOTORDECODEPORTDESCRIPTOR port layer no
	JR_LT8 no 0 noport
	
	OUTPUT_GET_COUNT layer no tacho
	MOVE32_F tacho result

	DATA8 nos
	RL8 1 no nos
	DATA8 inv
	READ8 MOTORISINVERTED layer inv 
	AND8 inv nos inv
	JR_EQ8 inv 0 noinvert
	SUBF 0.0 result result
noinvert:
	RETURN

noport:	
	MOVE8_F 0 result	
}
subcall MOTORDECODEPORTDESCRIPTOR  //  V
{
	IN_S descriptor 8
	OUT_8 layer
	OUT_8 no

	DATA8 i 
	DATA8 c

	MOVE8_8 0 layer
	MOVE8_8 -1 no
	MOVE8_8 0 i
loop:
	READ8 descriptor i c
	JR_EQ8 c 0 decoding_end
	
	JR_LT8 c 65 no_uppercase_port
	JR_GT8 c 68 no_uppercase_port
	SUB8 c 65 c
	MOVE8_8 c no
	JR loop_end
no_uppercase_port:
	JR_LT8 c 97 no_lowercase_port
	JR_GT8 c 100 no_lowercase_port
	SUB8 c 97 c
	MOVE8_8 c no
	JR loop_end
no_lowercase_port:
	JR_LT8 c 49 loop_end
	JR_GT8 c 52 loop_end
	SUB8 c 49 layer
loop_end:
	ADD8 1 i i
	JR loop	
	
decoding_end:
	RETURN
}
subcall MOTOR.STOP       // SSV      MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_S brake 8

	DATA8 layer
	DATA8 nos	
	DATA8 brk
	
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	JR_EQ8 nos 0 noport

	AND8888_32 brake -538976289 brake        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE brake 'TRUE' brk	
	
	OUTPUT_STOP layer nos brk
noport:
}
subcall MOTOR.INVERT      // SV        MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	
	DATA8 layer
	DATA8 nos
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	JR_EQ8 nos 0 nomotorselected

	OUTPUT_POLARITY layer nos -1

	DATA8 inv
	READ8 layer MOTORISINVERTED inv
	OR8 nos inv inv
	WRITE8 inv layer MOTORISINVERTED 
nomotorselected:
}
subcall SENSOR.READRAWVALUE            // FFF
{
	IN_F port
	IN_F index
	OUT_F result

	DATA8 layer
	DATA8 no
	DATA8 index8
		
	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no

	MOVEF_8 index index8
	JR_LT8 index8 0 outofbounds
	JR_GT8 index8 7 outofbounds

	DATA32 rawvalue0
	DATA32 rawvalue1
	DATA32 rawvalue2
	DATA32 rawvalue3
	DATA32 rawvalue4
	DATA32 rawvalue5
	DATA32 rawvalue6
	DATA32 rawvalue7
	INPUT_READEXT layer no 0 -1 18 8 rawvalue0 rawvalue1 rawvalue2 rawvalue3 rawvalue4 rawvalue5 rawvalue6 rawvalue7
	
	DATA32 rawtmp
	READ32 rawvalue0 index8 rawtmp

	JR_LT32 rawtmp -1000000000 nomoredata
	MOVE32_F rawtmp result
	RETURN

nomoredata:
outofbounds:
	MOVEF_F 0.0 result
}
subcall GETANDINC32     // V
{
	IN_32 counterin
	IN_32 inc
	OUT_32 counterout
	OUT_32 prev

	MOVE32_32 counterin prev
	ADD32 counterin inc counterout
}
